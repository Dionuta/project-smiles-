<!DOCTYPE html>
<html>
<head>
	<title>Matching Game</title>
	<style>
	img{position: absolute}
	div{position: absolute; width: 500px; height: 500px}
	#rightSide {left: 500px; border-left: 1px solid black}	
	</style>	
</head>
<body id="theBody" onload="generateFaces()">
	<h1>Matching Game</h1>
	<p>Click on the extra smiling face on the left.</p></body> </br>
	<div id="leftSide"></div>
	<div id="rightSide"></div>
	<script>
		var numberOfFaces=5;
        var theLeftSide = document.getElementById("leftSide");
        var i=0;
        
        var theBody=document.getElementsByTagName("body")[0];
        function generateFaces(){
            i = 0;
            while (i<numberOfFaces){
                var random_top=((Math.random()*400));
                var random_left=((Math.random()*400));
                var random_top=Math.floor(random_top);
                var random_left=Math.floor(random_left);
                var img=document.createElement('img');
                img.src="https://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";
                img.style.left=random_left+"px";
                img.style.top=random_top+"px";
                theLeftSide.appendChild(img);   
                i+=1;
                       
            var theRightSide=document.getElementById("rightSide");
            var leftSideImages = theLeftSide.cloneNode(true);
            }
            theRightSide.appendChild(leftSideImages);
            leftSideImages=leftSideImages.removeChild(leftSideImages.lastChild);
            theLeftSide.lastChild.onclick=function nextLevel(event) {
                event.stopPropagation();
                while (theLeftSide.firstChild) {
                    theLeftSide.removeChild(theLeftSide.firstChild);
                }
                while (theRightSide.firstChild) {
                theRightSide.removeChild(theRightSide.firstChild);
                }
                numberOfFaces++; 
                numberOfFaces++;
                numberOfFaces++;
                numberOfFaces++;
                generateFaces();
            };
                theBody.onclick=function youFail() {
                    alert("Game Over!");
                    theBody.onclick=null;
                    theLeftSide.lastChild.onclick=null;
                };
        };
        
	</script>
	</body>
		
</html>